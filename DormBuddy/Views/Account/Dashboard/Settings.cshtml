@{
    ViewData["Title"] = "Account Settings";
}

<style>
    #navigationButtons {
        display: flex;
        justify-content: center;
        align-items: center;
        gap: 10px;
        margin-bottom: 50px;
    }

    #settings-content {
        background-color: rgb(250, 250, 250);
        padding: 20px;
    }
</style>

<!-- Return to Dashboard Button -->
<div class="mb-4">
    <a href="/Account/Dashboard" class="btn btn-outline-primary">
        <i class="fa fa-chevron-left"></i> Return to Dashboard
    </a>
</div>

<div class="text-center mb-4">
    <h1 class="display-4">Account Settings</h1>
    <p>Update your account information and preferences.</p>
</div>

<div>
    <!-- Navigation Buttons -->
    <div id="navigationButtons">
        <button id="general-settings-btn" onclick="loadSettings('GeneralSettings')" style="background-color: rgb(89, 199, 226); color: white; border: none;">General Settings</button>
        <button id="account-settings-btn" onclick="loadSettings('AccountSettings')" style="background-color: rgb(255, 79, 152); color: white; border: none;">Account Settings</button>
        <button id="privacy-settings-btn" onclick="loadSettings('PrivacySettings')" style="background-color: rgb(154, 154, 240); color: white; border: none;">Privacy Settings</button>
    </div>

    <!-- Content Area to Display the Settings -->
    <div id="settings-content">
        <!-- Default to 'GeneralSettings' content load -->
    </div>
</div>

@section Scripts {
    <script type="text/javascript">
        // Function to load settings dynamically
        function loadSettings(page) {
            $.ajax({
                url: '@Url.Action("LoadSettings")',
                type: 'GET',
                data: { settingsPage: page },
                success: function (data) {
                    $('#settings-content').html(data); // Load the settings view into the content area
                },
                error: function () {
                    alert("Error loading settings.");
                }
            });
        }

        // Initially load settings based on ViewBag.LoadPage
        $(document).ready(function() {
            var initialPage = '@ViewBag.LoadPage';
            if (initialPage) {
                loadSettings(initialPage);
            } else {
                loadSettings('GeneralSettings'); // Default to general settings
            }
        });
    </script>
}
